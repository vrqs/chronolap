/**
 * Components
 * Card-Input.scss
 */

@use "../0-abstracts/" as *;
@use "../1-base/typography" as *;

.card-input {
  @include wh(100%, $max-w: col-width(6));
  background-color: var(--color-background-card);
  border-radius: 1.5rem;
  overflow: hidden;
  box-shadow:
    0 0 3px rgba(18, 23, 24, 0.1),
    0 0 60px rgba(0, 125, 131, 0.1);
  position: relative;
  z-index: 0;

  .input-group {
    padding: 1.5rem 2.5rem;
    position: relative;
    background-color: var(--color-background-card);
    box-shadow: 0 0 40px rgba(18, 23, 24, 0.06);

    &:first-child {
      z-index: 10;
    }

    &:nth-child(2) {
      z-index: 5;
    }

    &:not(#group-timeframe) .label {
      margin-bottom: .5rem;
      color: var(--color-text-secondary);
    }

    .field {
      cursor: pointer;

      &[data-state="empty"] {
        color: var(--color-text-tertiary);
      }
    }

    #field-country {
      @include flex(row, center);

      @include pseudo(after) {
        @include icon("ic-arrow-right.svg", 1rem);
        margin-inline: .5rem;
        cursor: initial;
      }
    }

    &#group-timeframe {
      label {
        user-select: none;
        cursor: pointer;
        @include flex(row, center, $gap: .5rem);
        position: relative;

        @include pseudo(before) {
          @include wh(32px, 20px);
          background: linear-gradient(#EBF2F2 0%, #D7DDDD 100%);
          @include border(1.5px, var(--color-text-tertiary), 2rem);
          transition: all 80ms;
        }

        @include pseudo(after) {
          @include wh(15px, 15px);
          background: linear-gradient(#FFF 0%, #ECECEC 100%);
          @include border(1.5px, var(--color-text-secondary), 2rem);
          @include pos($l: 2.5px);
          transition: all 80ms;
        }
      }

      #timeframe:checked + label {
        @include pseudo(before) {
          border-color: var(--color-accent-primary);
          background: linear-gradient(rgba(0, 168, 174, .56) 0%, rgba(0, 168, 174, .86) 100%);
          transition: all 80ms;
        }

        @include pseudo(after) {
          @include pos($l: calc(1rem - 1.5px));
          border-color: var(--color-accent-primary);
          transition: all 80ms;
        }
      }

      .divider {
        color: var(--color-text-secondary);
        margin-inline: .5rem;
      }
    }
  }
}